<div class="auth-form">
  <div class="auth-form-header">
    <h2>Nouveau mot de passe ðŸ”‘</h2>
    <p>Entrez votre nouveau mot de passe ci-dessous</p>
  </div>
  
  <% if (typeof errors !== 'undefined' && errors && errors.length > 0) { %>
    <div class="error-list">
      <ul>
        <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>
  
  <form action="/auth/reset-password/<%= token %>" method="POST">
    <div class="form-group">
      <label class="form-label">Nouveau mot de passe</label>
      <div class="input-icon-wrapper">
        <span class="input-icon"><i data-lucide="lock"></i></span>
        <input 
          type="password" 
          name="password" 
          id="password"
          class="form-input" 
          placeholder="Minimum 6 caractÃ¨res"
          required
          minlength="6"
        >
        <button type="button" class="password-toggle" onclick="togglePassword('password')">
          <i data-lucide="eye" id="password-icon"></i>
        </button>
      </div>
    </div>
    
    <div class="form-group">
      <label class="form-label">Confirmer le mot de passe</label>
      <div class="input-icon-wrapper">
        <span class="input-icon"><i data-lucide="lock"></i></span>
        <input 
          type="password" 
          name="confirmPassword" 
          id="confirmPassword"
          class="form-input" 
          placeholder="Confirmez votre mot de passe"
          required
          minlength="6"
        >
        <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
          <i data-lucide="eye" id="confirmPassword-icon"></i>
        </button>
      </div>
    </div>
    
    <button type="submit" class="btn btn-primary btn-block btn-lg">
      <i data-lucide="key"></i>
      RÃ©initialiser le mot de passe
    </button>
  </form>
</div>

<script>
  function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const icon = document.getElementById(inputId + '-icon');
    if (input.type === 'password') {
      input.type = 'text';
      icon.setAttribute('data-lucide', 'eye-off');
    } else {
      input.type = 'password';
      icon.setAttribute('data-lucide', 'eye');
    }
    lucide.createIcons();
  }
</script>
